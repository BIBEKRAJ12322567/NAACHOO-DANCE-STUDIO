<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Naachoo Studio</title>
    <link rel="shortcut icon" href="./icon.png" type="image/x-icon">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/locomotive-scroll@3.5.4/dist/locomotive-scroll.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
    <link rel="stylesheet" href="./css/style.css">
    <style>
        .user-profile {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 8px 15px;
            border: 1px solid #0000003c;
            border-radius: 50px;
            cursor: pointer;
            position: relative;
            background: white;
            transition: all 0.3s ease;
            min-width: 150px;
        }

        .user-profile:hover {
            background: #f97316;
            border-color: #f97316;
        }

        .user-profile:hover span {
            color: white;
        }

        .user-profile img {
            width: 35px;
            height: 35px;
            border-radius: 50%;
            object-fit: cover;
            border: 2px solid #f97316;
            background: #fff;
        }

        .user-profile span {
            color: #333;
            font-weight: 500;
            transition: color 0.3s ease;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .user-profile .profile-dropdown {
            position: absolute;
            top: calc(100% + 5px);
            right: 0;
            background: white;
            border: 1px solid #0000003c;
            border-radius: 10px;
            padding: 15px;
            display: none;
            min-width: 250px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            z-index: 1000;
        }

        .user-profile:hover .profile-dropdown {
            display: block;
        }

        .profile-dropdown p {
            margin: 8px 0;
            padding: 5px 10px;
            color: #333;
            white-space: normal;
            word-break: break-all;
        }

        .profile-dropdown button {
            width: 100%;
            padding: 10px;
            margin-top: 15px;
            background: #f97316;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: 500;
            transition: background 0.3s ease;
        }

        .profile-dropdown button:hover {
            background: #ea580c;
        }

        .loading {
            opacity: 0.7;
            pointer-events: none;
        }

        .error-state {
            color: #ef4444;
            font-size: 0.875rem;
        }
    </style>
</head>

<body>
    <!-- <div id="loader">
        <h1>ENVIRONMENTS</h1>
        <h1>EXPERIENCES</h1>
        <h1>CONTENT</h1>
    </div> -->
    <div id="fixed-image">

    </div>
    <div id="main">

        <div id="page1">
            <nav>
                <img src="./img/logo2.png" id="logo"  alt="">
                
                <div id="nav-part2">
                    <h4><a href="index2.html">Home</a></h4>
                    <h4><a href="stdio.html">Studio</a></h4>
                    <h4><a href="classes.html">Classes</a></h4>
                    <h4><a href="about.html">About</a></h4>
                    <h4><a href="authentication.html">Logout</a></h4>
                </div>
                <h3>Menu</h3>
            </nav>
            <div id="center">
                <div id="left">
                    <h3>Join Naachoo Dance Studio and immerse yourself in a world where movement tells a story, beats fuel the soul, and every performance is a celebration of life.</h3>
                </div>
                <div id="right">
                    <h1>EVERY<br>
                        STEPS<br>
                        COUNTS<br>
                        <br>
                    </h1>
                </div>

            </div>
            <div id="hero-shape">
                <div id="hero-1"></div>
                <div id="hero-2"></div>
                <div id="hero-3"></div>
            </div>
            <video autoplay loop muted src="./img/dance.mp4"></video>
        </div>
        <div id="page2">
            <div id="moving-text">
                <div class="con">
                    <h1>EXPERIENCES</h1>
                    <div id="gola"></div>
                    <h1>CONTENT</h1>
                    <div id="gola"></div>
                    <h1>ENVIRONMENTS</h1>
                    <div id="gola"></div>
                </div>
                <div class="con">
                    <h1>EXPERIENCES</h1>
                    <div id="gola"></div>
                    <h1>CONTENT</h1>
                    <div id="gola"></div>
                    <h1>ENVIRONMENTS</h1>
                    <div id="gola"></div>
                </div>
                <div class="con">
                    <h1>EXPERIENCES</h1>
                    <div id="gola"></div>
                    <h1>CONTENT</h1>
                    <div id="gola"></div>
                    <h1>ENVIRONMENTS</h1>
                    <div id="gola"></div>
                </div>
            </div>
            <div id="page2-bottom">
                <h1>We are a passionate group of dancers who live and breathe the rhythm of movement. United by our love for dance,
                    we blend creativity, energy, and dedication to bring powerful performances that inspire and entertain.</h1>
                <div id="bottom-part2">
                    <img src="https://images.unsplash.com/photo-1588540111535-2b7ef1eb7833?w=900&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Nnx8aGlwJTIwaG9wJTIwZGFuY2V8ZW58MHx8MHx8fDA%3D"
                        alt="">
                    <p>We love to create, we love to solve, we love to collaborate, and we love to turn amazing ideas
                        into reality. We're here to partner with you through every step of the process and know that
                        relationships are the most important things we build.</p>
                </div>
            </div>
            <div id="gooey">

            </div>
        </div>
        <div id="page3">
            <div id="elem-container">
                <div id="elem1" class="elem"
                    data-image="https://images.unsplash.com/photo-1621976360623-004223992275?w=900&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OHx8aGlwJTIwaG9wJTIwZGFuY2V8ZW58MHx8MHx8fDA%3D">
                    <div class="overlay"></div>
                    <h2>
                        Hip-hop dance</h2>
                </div>
                <div class="elem"
                    data-image="https://images.unsplash.com/photo-1698772803790-2e3eacd07936?w=900&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTF8fGZyZWUlMjBzdHlsZSUyMGRhbmNlfGVufDB8fDB8fHww">
                    <div class="overlay"></div>
                    <h2>Free Style</h2>
                </div>
                <div class="elem"
                    data-image="https://images.unsplash.com/photo-1603909477416-3fc943f3e4d8?w=900&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8YmhhcmF0bmF5YW0lMjBkYW5jZXxlbnwwfHwwfHx8MA%3D%3D">
                    <div class="overlay"></div>
                    <h2>Bharatnatyam</h2>
                </div>
                <div class="elem"
                    data-image="https://images.unsplash.com/photo-1717011969223-0217a302ec6f?w=900&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Nnx8a2F0aGFrfGVufDB8fDB8fHww">
                    <div class="overlay"></div>
                    <h2>Kathak</h2>
                </div>
                <div class="elem"
                    data-image="https://i.pinimg.com/474x/d5/8b/da/d58bda7a21ce436f09a7bd7a52730578.jpg">
                    <div class="overlay"></div>
                    <h2>Odissi</h2>
                </div>
                <div class="elem"
                    data-image="https://images.unsplash.com/photo-1575448913281-98e9e5d3f193?w=900&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8M3x8c2Fsc2F8ZW58MHx8MHx8fDA%3D">
                    <div class="overlay"></div>
                    <h2>Salsa</h2>
                </div>
                <div class="elem"
                    data-image="https://www.geocities.ws/hunkforuall/full2dance.jpg">
                    <div class="overlay"></div>
                    <h2>Barati dance</h2>
                </div>
            </div>
        </div>
        
        <div id="page5">

        </div>
        <div id="full-scr">
            <div id="full-div1">
                
            </div>
        </div>
    </div>
    <div id="footer">
        <div id="footer-div">

        </div>
        <h1>Naachoo</h1>
        <div id="footer-bottom">

        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/locomotive-scroll@3.5.4/dist/locomotive-scroll.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
    <script>
        // Fetch user profile data
        async function fetchUserProfile() {
            const profileElement = document.getElementById('user-profile');
            const usernameElement = document.getElementById('username');
            const emailElement = document.getElementById('user-email');
            const profilePicElement = document.getElementById('profile-pic');

            try {
                profileElement.classList.add('loading');
                const response = await fetch('get_user_profile.php');
                const data = await response.json();
                
                if (data.success) {
                    usernameElement.textContent = data.user.username;
                    emailElement.textContent = data.user.email;
                    profilePicElement.src = data.user.profile_picture || './img/default-avatar.png';
                } else {
                    usernameElement.textContent = 'Not logged in';
                    usernameElement.classList.add('error-state');
                    emailElement.textContent = 'Please log in';
                    emailElement.classList.add('error-state');
                    console.error('Failed to fetch user profile:', data.message);
                }
            } catch (error) {
                usernameElement.textContent = 'Error';
                usernameElement.classList.add('error-state');
                emailElement.textContent = 'Failed to load profile';
                emailElement.classList.add('error-state');
                console.error('Error fetching user profile:', error);
            } finally {
                profileElement.classList.remove('loading');
            }
        }

        // Handle logout
        async function handleLogout() {
            try {
                const response = await fetch('logout.php');
                const data = await response.json();
                
                if (data.success) {
                    window.location.href = 'authentication.html';
                } else {
                    alert('Failed to logout. Please try again.');
                }
            } catch (error) {
                console.error('Error during logout:', error);
                alert('An error occurred during logout');
            }
        }

        // Call the function when the page loads
        document.addEventListener('DOMContentLoaded', fetchUserProfile);
    </script>
    <script src="./js/script.js"></script>
</body>

</html>